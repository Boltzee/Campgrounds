<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/css/bootstrap.min.css"
	    integrity="sha384-r4NyP46KrjDleawBgD5tp8Y7UzmLA05oM1iAEQ17CSuDqnUK2+k9luXQOfXJCJ4I" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/bs-custom-file-input/dist/bs-custom-file-input.js"></script>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

		<script src='https://api.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.js'></script>
		<link href='https://api.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.css' rel='stylesheet' />

		<link rel="stylesheet" href="/css/app.css">

		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link href="https://fonts.googleapis.com/css2?family=Kaushan+Script&display=swap" rel="stylesheet"> 
		<link href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@700&display=swap" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet"> 
		<link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,700;1,700&display=swap" rel="stylesheet">
		<title>New details page</title>
		<link rel="stylesheet" href="/css/map.css">
		<link rel="stylesheet" href="/css/details.css">
	</head>
	<body>
		<%-include('../partials/navbar')%>
		<%-include('../partials/flash')%>
		
		<!-- SVG designs -->

		<svg id="wave2" style="transform:rotate(180deg); transition: 0.3s" viewBox="0 0 1440 490" version="1.1" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="sw-gradient-0" x1="0" x2="0" y1="1" y2="0"><stop stop-color="rgba(220, 224, 233, 1)" offset="0%"></stop><stop stop-color="rgba(13, 110, 253, 1)" offset="100%"></stop></linearGradient></defs><path style="transform:translate(0, 0px); opacity:1" fill="url(#sw-gradient-0)" d="M0,0L40,8.2C80,16,160,33,240,106.2C320,180,400,310,480,302.2C560,294,640,147,720,114.3C800,82,880,163,960,212.3C1040,261,1120,278,1200,236.8C1280,196,1360,98,1440,73.5C1520,49,1600,98,1680,147C1760,196,1840,245,1920,285.8C2000,327,2080,359,2160,375.7C2240,392,2320,392,2400,326.7C2480,261,2560,131,2640,81.7C2720,33,2800,65,2880,65.3C2960,65,3040,33,3120,32.7C3200,33,3280,65,3360,81.7C3440,98,3520,98,3600,114.3C3680,131,3760,163,3840,179.7C3920,196,4000,196,4080,179.7C4160,163,4240,131,4320,114.3C4400,98,4480,98,4560,106.2C4640,114,4720,131,4800,138.8C4880,147,4960,147,5040,155.2C5120,163,5200,180,5280,187.8C5360,196,5440,196,5520,236.8C5600,278,5680,359,5720,400.2L5760,441L5760,490L5720,490C5680,490,5600,490,5520,490C5440,490,5360,490,5280,490C5200,490,5120,490,5040,490C4960,490,4880,490,4800,490C4720,490,4640,490,4560,490C4480,490,4400,490,4320,490C4240,490,4160,490,4080,490C4000,490,3920,490,3840,490C3760,490,3680,490,3600,490C3520,490,3440,490,3360,490C3280,490,3200,490,3120,490C3040,490,2960,490,2880,490C2800,490,2720,490,2640,490C2560,490,2480,490,2400,490C2320,490,2240,490,2160,490C2080,490,2000,490,1920,490C1840,490,1760,490,1680,490C1600,490,1520,490,1440,490C1360,490,1280,490,1200,490C1120,490,1040,490,960,490C880,490,800,490,720,490C640,490,560,490,480,490C400,490,320,490,240,490C160,490,80,490,40,490L0,490Z"></path><defs><linearGradient id="sw-gradient-1" x1="0" x2="0" y1="1" y2="0"><stop stop-color="rgba(13, 110, 253, 1)" offset="0%"></stop><stop stop-color="rgba(220, 224, 233, 1)" offset="100%"></stop></linearGradient></defs><path style="transform:translate(0, 50px); opacity:0.9" fill="url(#sw-gradient-1)" d="M0,245L40,261.3C80,278,160,310,240,302.2C320,294,400,245,480,220.5C560,196,640,196,720,220.5C800,245,880,294,960,269.5C1040,245,1120,147,1200,155.2C1280,163,1360,278,1440,294C1520,310,1600,229,1680,220.5C1760,212,1840,278,1920,285.8C2000,294,2080,245,2160,228.7C2240,212,2320,229,2400,204.2C2480,180,2560,114,2640,130.7C2720,147,2800,245,2880,285.8C2960,327,3040,310,3120,318.5C3200,327,3280,359,3360,334.8C3440,310,3520,229,3600,212.3C3680,196,3760,245,3840,236.8C3920,229,4000,163,4080,179.7C4160,196,4240,294,4320,285.8C4400,278,4480,163,4560,106.2C4640,49,4720,49,4800,89.8C4880,131,4960,212,5040,220.5C5120,229,5200,163,5280,138.8C5360,114,5440,131,5520,171.5C5600,212,5680,278,5720,310.3L5760,343L5760,490L5720,490C5680,490,5600,490,5520,490C5440,490,5360,490,5280,490C5200,490,5120,490,5040,490C4960,490,4880,490,4800,490C4720,490,4640,490,4560,490C4480,490,4400,490,4320,490C4240,490,4160,490,4080,490C4000,490,3920,490,3840,490C3760,490,3680,490,3600,490C3520,490,3440,490,3360,490C3280,490,3200,490,3120,490C3040,490,2960,490,2880,490C2800,490,2720,490,2640,490C2560,490,2480,490,2400,490C2320,490,2240,490,2160,490C2080,490,2000,490,1920,490C1840,490,1760,490,1680,490C1600,490,1520,490,1440,490C1360,490,1280,490,1200,490C1120,490,1040,490,960,490C880,490,800,490,720,490C640,490,560,490,480,490C400,490,320,490,240,490C160,490,80,490,40,490L0,490Z"></path></svg>

		<svg id="wave" style="transition: 0.3s" viewBox="0 0 1440 490" version="1.1" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="sw-gradient-0" x1="0" x2="0" y1="1" y2="0"><stop stop-color="rgba(220, 224, 233, 1)" offset="0%"></stop><stop stop-color="rgba(13, 110, 253, 1)" offset="100%"></stop></linearGradient></defs><path style="transform:translate(0, 0px); opacity:1" fill="url(#sw-gradient-0)" d="M0,392L21.8,392C43.6,392,87,392,131,392C174.5,392,218,392,262,367.5C305.5,343,349,294,393,302.2C436.4,310,480,376,524,343C567.3,310,611,180,655,163.3C698.2,147,742,245,785,302.2C829.1,359,873,376,916,367.5C960,359,1004,327,1047,277.7C1090.9,229,1135,163,1178,147C1221.8,131,1265,163,1309,147C1352.7,131,1396,65,1440,65.3C1483.6,65,1527,131,1571,130.7C1614.5,131,1658,65,1702,73.5C1745.5,82,1789,163,1833,187.8C1876.4,212,1920,180,1964,147C2007.3,114,2051,82,2095,114.3C2138.2,147,2182,245,2225,277.7C2269.1,310,2313,278,2356,277.7C2400,278,2444,310,2487,302.2C2530.9,294,2575,245,2618,196C2661.8,147,2705,98,2749,122.5C2792.7,147,2836,245,2880,253.2C2923.6,261,2967,180,3011,196C3054.5,212,3098,327,3120,383.8L3141.8,441L3141.8,490L3120,490C3098.2,490,3055,490,3011,490C2967.3,490,2924,490,2880,490C2836.4,490,2793,490,2749,490C2705.5,490,2662,490,2618,490C2574.5,490,2531,490,2487,490C2443.6,490,2400,490,2356,490C2312.7,490,2269,490,2225,490C2181.8,490,2138,490,2095,490C2050.9,490,2007,490,1964,490C1920,490,1876,490,1833,490C1789.1,490,1745,490,1702,490C1658.2,490,1615,490,1571,490C1527.3,490,1484,490,1440,490C1396.4,490,1353,490,1309,490C1265.5,490,1222,490,1178,490C1134.5,490,1091,490,1047,490C1003.6,490,960,490,916,490C872.7,490,829,490,785,490C741.8,490,698,490,655,490C610.9,490,567,490,524,490C480,490,436,490,393,490C349.1,490,305,490,262,490C218.2,490,175,490,131,490C87.3,490,44,490,22,490L0,490Z"></path><defs><linearGradient id="sw-gradient-1" x1="0" x2="0" y1="1" y2="0"><stop stop-color="rgba(13, 110, 253, 1)" offset="0%"></stop><stop stop-color="rgba(220, 224, 233, 1)" offset="100%"></stop></linearGradient></defs><path style="transform:translate(0, 50px); opacity:0.9" fill="url(#sw-gradient-1)" d="M0,196L21.8,187.8C43.6,180,87,163,131,130.7C174.5,98,218,49,262,81.7C305.5,114,349,229,393,245C436.4,261,480,180,524,187.8C567.3,196,611,294,655,334.8C698.2,376,742,359,785,343C829.1,327,873,310,916,302.2C960,294,1004,294,1047,277.7C1090.9,261,1135,229,1178,220.5C1221.8,212,1265,229,1309,269.5C1352.7,310,1396,376,1440,367.5C1483.6,359,1527,278,1571,228.7C1614.5,180,1658,163,1702,138.8C1745.5,114,1789,82,1833,73.5C1876.4,65,1920,82,1964,73.5C2007.3,65,2051,33,2095,40.8C2138.2,49,2182,98,2225,122.5C2269.1,147,2313,147,2356,196C2400,245,2444,343,2487,326.7C2530.9,310,2575,180,2618,163.3C2661.8,147,2705,245,2749,277.7C2792.7,310,2836,278,2880,236.8C2923.6,196,2967,147,3011,147C3054.5,147,3098,196,3120,220.5L3141.8,245L3141.8,490L3120,490C3098.2,490,3055,490,3011,490C2967.3,490,2924,490,2880,490C2836.4,490,2793,490,2749,490C2705.5,490,2662,490,2618,490C2574.5,490,2531,490,2487,490C2443.6,490,2400,490,2356,490C2312.7,490,2269,490,2225,490C2181.8,490,2138,490,2095,490C2050.9,490,2007,490,1964,490C1920,490,1876,490,1833,490C1789.1,490,1745,490,1702,490C1658.2,490,1615,490,1571,490C1527.3,490,1484,490,1440,490C1396.4,490,1353,490,1309,490C1265.5,490,1222,490,1178,490C1134.5,490,1091,490,1047,490C1003.6,490,960,490,916,490C872.7,490,829,490,785,490C741.8,490,698,490,655,490C610.9,490,567,490,524,490C480,490,436,490,393,490C349.1,490,305,490,262,490C218.2,490,175,490,131,490C87.3,490,44,490,22,490L0,490Z"></path></svg>

		<!-- End of SVG designs -->

		<!-- Beginning of the main content -->
		<div class="container-fluid" id="prime">
			<div class="row" id="mainRow">
				<div class="col-9" id="contentCol">
					<div class="row" id="card-row">
						<div id="campgroundCarousel" class="col-4 mb-3 carousel slide carousel-fade" data-bs-ride="carousel">
							  <div class="carousel-inner">
							  	<% let x = 0%>
							  	<% for(let img of ground.images) {%>
							  		<% x++ %>
								    <div class="carousel-item <%= (x==1) ? 'active' : ''%>">
								      <img src="<%=img.url%>" class="d-block w-100" alt="...">
								    </div>
							    <% } %>
							  </div>
							  <% if(ground.images.length>1) {%>
								  <button class="carousel-control-prev" type="button" data-bs-target="#campgroundCarousel" data-bs-slide="prev">
								    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
								    <span class="visually-hidden">Previous</span>
								  </button>
								  <button class="carousel-control-next" type="button" data-bs-target="#campgroundCarousel" data-bs-slide="next">
								    <span class="carousel-control-next-icon" aria-hidden="true"></span>
								    <span class="visually-hidden">Next</span>
								  </button>
							  <% } %>
						</div>
						<div class="col-8 card mb-3" id="detailCard">
							  <div class="card-body">
							    <h5 class="card-title"><%=ground.title%></h5>
							    <p class="card-text" style="font-size: 0.8rem !important;"><%=ground.description%></p>
							  </div>
							  <ul class="list-group list-group-flush">
							    <li class="list-group-item text-muted"><%=ground.location%></li>
							    <li class="list-group-item ">Submitted by <%=ground.author.username%></li>
							    <li class="list-group-item">$<%=ground.price%>/night</li>
							  </ul>
							  <% if(currentUser && ground.author.equals(currentUser._id)) {%>
								  <div class="card-body">
								    <a href="/campgrounds/<%=ground._id%>/edit" class="card-link btn btn-success mb-1">Edit</a>
								    <form style="display: inline;" method="POST" action="/campgrounds/<%=ground._id%>?_method=DELETE">
										<button class="btn btn-danger mb-1">DELETE</button>
								  	</form>
								  </div>
							  <% } %>
			 			</div>
					</div>
					<div class="row" id="addReviewMin">
						<% if(currentUser) {%>
						<div id="reviewDiv1" class="pt-3 mb-3">
							<h2 style="font-size: 0.975rem">Leave a review</h2>
				 			<form class="mb-3 validate-form" action="/campgrounds/<%=ground._id%>/review" method="POST" novalidate>
				 				<fieldset class="starability-checkmark" style="min-height: 40px">
									  <input type="radio" id="first-rate1" name="review[rating]" value="1" checked />
									  <label for="first-rate1" title="Terrible">1 star</label>
									  <input type="radio" id="first-rate2" name="review[rating]" value="2" />
									  <label for="first-rate2" title="Not good">2 stars</label>
									  <input type="radio" id="first-rate3" name="review[rating]" value="3" />
									  <label for="first-rate3" title="Average">3 stars</label>
									  <input type="radio" id="first-rate4" name="review[rating]" value="4" />
									  <label for="first-rate4" title="Very good">4 stars</label>
									  <input type="radio" id="first-rate5" name="review[rating]" value="5" />
									  <label for="first-rate5" title="Amazing">5 stars</label>
								</fieldset>
				 				<div class="mb-3 pt-0">
				 					<label class="form-label" for="body" style="font-size: 0.875rem">Add review</label>
				 					<textarea class="form-control" name="review[body]" style="font-size: 0.875rem" id="body" cols="30" rows="3" required></textarea>
				 					<div class="valid-feedback">
										Looks good
									</div>
									<div id="validationServerFeedback" class="invalid-feedback">
					      				Please provide a review.
					    			</div>
				 				</div>
				 				<button class="btn btn-success">Submit</button>
				 			</form>
				 		</div>
			 			<% } else {%>
			 				<div class="mb-3 pt-0" id="request">
			 					<a href="/login" class="btn btn-primary btn-block" style="font-size: 0.75rem">Please sign in to add a review</a>
			 				</div>
			 			<% }%>
					</div>
					<div class="row" id="main">
			 			<% for(review of ground.reviews) {%>
			 				<div class="card" id="i<%=review._id%>">
				 				<div class="card-body px-0" >
				 					<h5 class="card-title">Rating:</h5>
									  <p class="starability-result" data-rating="<%=review.rating%>">
									    Rated: <%=review.rating%> stars
									  </p>
				 					<h6 class="card-subtitle mb-2 text-muted">By <%=review.author.username%></h6>
							    	<p class="card-text" id="edit-p">Review: <%=review.body%></p>
				 				</div>
				 				<% if((currentUser && review.author.equals(currentUser._id)) || (currentUser && ground.author.equals(currentUser._id))) {%>
					 				<div class="card-body pt-0 px-0">
								    	<a id="edit-button" class="user card-link btn btn-sm btn-success mb-1" data-rev="<%=review%>" data-author="<%=review.author.username%>">Edit</a>
									    <form id="deleteForm" style="display: inline;" method="POST" action="/campgrounds/<%=ground._id%>/review/<%=review._id%>?_method=DELETE">
											<button class="btn btn-sm btn-danger mb-1">DELETE</button>
									  	</form>
								  	</div>
							  	<% } %>
			 				</div>
			 			<%}%>
					</div>
				</div>
				<div class="col-3" id="map-col">
					<div id="reviewDiv2" class="mb-3">
					<div id='map' class="details-map mb-3"></div>
					<% if(currentUser) {%>
						<h2 style="font-size: 0.975rem">Leave a review</h2>
			 			<form class="mb-3 validate-form" action="/campgrounds/<%=ground._id%>/review" method="POST" novalidate>
			 				<fieldset class="starability-checkmark" style="min-height: 40px">
								  <input type="radio" id="first-rate01" name="review[rating]" value="1" checked />
								  <label for="first-rate01" title="Terrible">1 star</label>
								  <input type="radio" id="first-rate02" name="review[rating]" value="2" />
								  <label for="first-rate02" title="Not good">2 stars</label>
								  <input type="radio" id="first-rate03" name="review[rating]" value="3" />
								  <label for="first-rate03" title="Average">3 stars</label>
								  <input type="radio" id="first-rate04" name="review[rating]" value="4" />
								  <label for="first-rate04" title="Very good">4 stars</label>
								  <input type="radio" id="first-rate05" name="review[rating]" value="5" />
								  <label for="first-rate05" title="Amazing">5 stars</label>
							</fieldset>
			 				<div class="mb-3 pt-0">
			 					<label class="form-label" for="body" style="font-size: 0.875rem">Add review</label>
			 					<textarea class="form-control" name="review[body]" style="font-size: 0.875rem" id="body" cols="30" rows="3" required></textarea>
			 					<div class="valid-feedback">
									Looks good
								</div>
								<div id="validationServerFeedback" class="invalid-feedback">
				      				Please provide a review.
				    			</div>
			 				</div>
			 				<button class="btn btn-success">Submit</button>
			 			</form>
				 	</div>
		 			<% } else {%>
		 				<div class="mb-3 pt-0" id="request">
		 					<a href="/login" class="btn btn-primary btn-block" style="font-size: 0.75rem">Please sign in to add a review</a>
		 				</div>
		 			<% }%>
				</div>
			</div>
		</div>
		<!-- End of the main content -->

		<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js" integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js" integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG" crossorigin="anonymous"></script>	

		<script>
			const mapToken = '<%-process.env.MAPBOX_TOKEN%>';
			const loc = [<%-ground.geometry.coordinates%>];
			const campground = <%-JSON.stringify(ground)%>;
		</script>
		<script src="/js/validateForm.js"></script>
		<script src="/js/showpageMap.js"></script>
		<script src="/js/details.js"></script>
		<script>

			const parentElement = document.querySelector("#main");

			function remove_linebreaks( s ) {
				s=s.replace("{","");
				s= s.replace("}","");
				s= s.replace( /[\r\n]+/gm, "" );
				s= s.trim();
				return s;
			}
			
			const editFunction = function(e) {
				// console.log(e.target);
				// console.log(this);
				if(!e.target.matches("a")) return;
				el = e.target;
				// console.log('the value of el.dataset.rev is', el.dataset.rev);
				let n = remove_linebreaks(el.dataset.rev);
				const user_name = el.dataset.author;
				// console.log(user_name);
				var properties = n.split(',  ');
				var obj = {};
				properties.forEach(function(property) {
				    var tup = property.split(': ');
				    obj[tup[0]] = tup[1];
				});
				// console.log('the value of obj is',obj)
				const element = document.querySelector(`#i${obj._id}`);
				element.style.outline = 'none !important';
				element.style.borderColor = '#719ece';
				element.style.boxShadow = '0 0 10px #719ece';
				var bod = '';
				<% for(let r of ground.reviews) {%>
					if('<%-r._id%>'===obj._id){
						bod = '<%-r.body%>';
					}
				<% }%>
				// console.log(bod);
				// ${ (obj.rating===1)? 'checked':''}
				const str = 
					`<form method="POST" action="/campgrounds/<%=ground._id%>/review/${obj._id}?_method=PATCH" class="validate-form mb-3 mt-3" novalidate>
					 	<div class="card-body pb-0 px-0">
						 	<fieldset class="starability-checkmark" style="min-height: 40px">
							  <input type="radio" id="1" name="review[rating]" value="1" ${(obj.rating==1)? 'checked':''}/>
							  <label for="1" title="Terrible">1 star</label>
							  <input type="radio" id="2" name="review[rating]" value="2" ${ (obj.rating==2)? 'checked':''} />
							  <label for="2" title="Not good">2 stars</label>
							  <input type="radio" id="3" name="review[rating]" value="3" ${ (obj.rating==3)? 'checked':''}/>
							  <label for="3" title="Average">3 stars</label>
							  <input type="radio" id="4" name="review[rating]" value="4" ${ (obj.rating==4)? 'checked':''}/>
							  <label for="4" title="Very good">4 stars</label>
							  <input type="radio" id="5" name="review[rating]" value="5" ${ (obj.rating==5)? 'checked':''}/>
							  <label for="5" title="Amazing">5 stars</label>
							</fieldset>
						</div>
					 	<div class="mb-3 card-body pt-0 px-0">
					 		<label for="body1" class="form-label card-title"><h3 class="card-title" style="font-size:0.975rem;">Edit review</h3></label>
					 		<textarea name="review[body]" id="body1" cols="30" rows="3" class="form-control" required>${bod}</textarea>
					 		<div class="valid-feedback">
					 			Looks good
					 		</div>
					 		<div id="validationServerFeedback01" class="invalid-feedback">
		 						Please provide a review.
					 		</div>
					 	</div>
					 	<button class="btn btn-sm btn-info">
		  					Submit
					 	</button>
					 	<a id="backToNormal" class="btn btn-sm btn-secondary">Cancel</a>
					 </form>`

				element.innerHTML = str; 

				document.querySelector('#backToNormal').addEventListener('click', function (e) {
					let o = `  _id: ${obj._id},  body: ${obj.body},  rating: ${obj.rating}`;

					let original = 
						`<div class="card-body px-0" >
							<h5 class="card-title">Rating:</h5>
							<p class="starability-result" data-rating="${obj.rating}">
							  Rated: ${obj.rating} stars
							</p>
		 					<h6 class="card-subtitle mb-2 text-muted">By ${user_name}</h6>
					    	<p class="card-text" id="edit-p">Review: ${bod}</p>
			 			 </div>
		 				 <div class="card-body pt-0 px-0">
					     	 <a id="edit-button" class="user card-link btn btn-sm btn-success mb-1" data-rev="${o}">Edit</a>
						     <form id="deleteForm" style="display: inline;" method="POST" action="/campgrounds/<%=ground._id%>/review/${obj._id}?_method=DELETE">
							     <button class="btn btn-sm btn-danger mb-1">DELETE</button>
						     </form>
					  	 </div>`
					element.style.outline = '';
					element.style.borderColor = '';
					element.style.boxShadow = '';
					element.innerHTML = original;
				})

				var forms = document.querySelectorAll('.validate-form')
				// console.log(forms);
			  	// Loop over them and prevent submission
				  Array.prototype.slice.call(forms)
				    .forEach(function (form) {
				      form.addEventListener('submit', function (event) {
				        if (!form.checkValidity()) {
				          event.preventDefault()
				          event.stopPropagation()
				        }

				        form.classList.add('was-validated')
				      }, false)
				    })

			}

			parentElement.addEventListener('click', editFunction);

			let flag_details;
			function fixedFunction(e) {
				if(window.scrollY>=12 && !flag_details){
					document.getElementById('hoverStyle').remove();
					document.getElementById('navbar').classList.add('hovClass');
					nav.style.opacity='0.95';
					flag_details=true;
				}
				else if(window.scrollY<12 && flag_details){
					document.getElementById('navbar').classList.remove('hovClass');
					document.body.appendChild(mainStyle);
					nav.style.opacity='1';
					flag_details= false;
				}
			}
			window.addEventListener('scroll', fixedFunction );
		</script>
	</body>
</html>